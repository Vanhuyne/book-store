<div *ngIf="product" class="container mx-auto p-5 max-w-7xl">
  <div class="bg-white shadow-lg border border-gray-300 overflow-hidden ">
    <div class="flex flex-wrap">
      <!-- Main Image -->
      <div class="w-full md:w-1/2 p-5 flex justify-center items-center">
        <button class="bg-gray-200 rounded-full shadow-md" (click)="prevThumbnail()" aria-label="Previous Thumbnail">
          <svg class="w-8 h-8 text-gray-600" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M13.707 15.707a1 1 0 01-1.414 0L7.293 10.707a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L9.414 10l4.293 4.293a1 1 0 010 1.414z"
              clip-rule="evenodd" />
          </svg>
        </button>
        <img [src]="apiThumbnailUrl + mainImage" alt="{{ product.name }}"
          class="w-2/3 h-auto object-cover border border-gray-300 mx-4" aria-label="Main Image">
        <button class="bg-gray-200 rounded-full shadow-md" (click)="nextThumbnail()" aria-label="Next Thumbnail">
          <svg class="w-8 h-8 text-gray-600" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M6.293 4.293a1 1 0 011.414 0L13.707 10l-5.293 5.293a1 1 0 11-1.414-1.414L10.586 10 6.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>

      <!-- Product Details -->
      <div class="w-full md:w-1/2 p-14">
        <h1 class="text-3xl font-bold mb-2" aria-label="Product Name">{{ product.name }}</h1>
        <h2 class="text-gray-800 text-xl font-semibold mb-4" aria-label="Product Price">{{ product.price | currency }}
        </h2>
        <p class="text-gray-500 mb-4" aria-label="Stock Quantity">Stock: {{ product.stockQuantity }}</p>
        <p class="text-gray-900 mb-2" aria-label="Stock Quantity">Description</p>
        <p class="text-gray-500 mb-6" aria-label="Product Description">{{ product.description }}</p>

        <!-- Quantity Control -->
        <div class="flex items-center mb-4" aria-label="Quantity Control">
          <button (click)="decreaseQuantity()"
            class="bg-gray-50 border border-gray-950 w-10 h-10 flex items-center justify-center "
            aria-label="Decrease Quantity">
            <svg class="w-6 h-6 text-gray-600" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd" />
            </svg>
          </button>
          <span class="mx-4 text-xl" aria-label="Current Quantity">{{ quantity }}</span>
          <button (click)="increaseQuantity()"
            class="bg-gray-50 border border-gray-950 w-10 h-10 flex items-center justify-center "
            aria-label="Increase Quantity">
            <svg class="w-6 h-6 text-gray-600" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </div>

        <!-- Add to Cart Button -->
        <button (click)="addToCart()"
          class="my-2 w-full bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 flex items-center justify-center space-x-2"
          aria-label="Add to Cart">
          <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
            fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312" />
          </svg>
          <span>Add to cart</span>
        </button>
      </div>
    </div>

    <!-- Additional Photos -->
    <div class="p-5" aria-label="Additional Photos">
      <h2 class="text-2xl font-bold mb-4">More Photos</h2>
      <div class="w-full md:w-1/2 pe-5 mb-5">
        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
          <div *ngFor="let photo of product.photoUrls.slice(0, 3)" class="relative cursor-pointer p-3"
            (click)="setMainImage(photo.url)" aria-label="Additional Photo">
            <div class="square-container border border-gray-400">
              <img [src]="apiThumbnailUrl + photo.url" alt="{{ product.name }}"
                class="absolute inset-0 w-full h-full object-cover border border-gray-300" aria-label="Photo">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>